<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lisandro Ribeiro | Full Stack & GIS Analyst</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <style>
        /* --- 1. RESET E VARIAVEIS --- */
        :root {
            --bg-body: #0a0b10;
            --bg-card: #14161f;
            --primary: #00d2ff;
            --secondary: #7928ca;
            --text-main: #ffffff;
            --text-muted: #94a3b8;
            --border: rgba(255, 255, 255, 0.08);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            overflow-x: hidden;
            line-height: 1.6;
        }

        h1, h2, h3, .mono { font-family: 'JetBrains Mono', monospace; }
        a { text-decoration: none; color: inherit; transition: 0.3s; }

        /* --- 2. BACKGROUND 3D (CANVAS FIXO) --- */
        #canvas-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
            z-index: -1; pointer-events: none;
            /* Fundo escuro levemente azulado para destacar o wireframe branco */
            background: radial-gradient(circle at center, #151925 0%, #000000 100%);
        }

        /* --- 3. COMPONENTES UI --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
        section { padding: 6rem 0; position: relative; }

        .btn {
            display: inline-flex; align-items: center; gap: 0.5rem;
            padding: 0.8rem 1.5rem; border-radius: 6px; font-weight: 600; cursor: pointer;
            transition: all 0.3s ease; border: none; font-size: 0.95rem;
        }
        .btn-primary { background: var(--primary); color: #000; }
        .btn-primary:hover { box-shadow: 0 0 20px rgba(0, 210, 255, 0.4); transform: translateY(-2px); }
        .btn-outline { background: transparent; border: 1px solid var(--border); color: #fff; }
        .btn-outline:hover { border-color: var(--primary); color: var(--primary); }

        .section-header { margin-bottom: 4rem; text-align: center; }
        .section-title { font-size: 2.5rem; margin-bottom: 1rem; color: #fff; }

        /* --- 4. HERO --- */
        .hero { min-height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; }
        .hero-role {
            display: inline-block; padding: 0.5rem 1rem; border-radius: 50px;
            background: rgba(0, 210, 255, 0.1); color: var(--primary);
            font-size: 0.9rem; margin-bottom: 1.5rem; border: 1px solid rgba(0, 210, 255, 0.2);
        }
        .hero h1 { font-size: 4rem; line-height: 1.1; margin-bottom: 1.5rem; letter-spacing: -2px; }
        .hero p { font-size: 1.2rem; color: var(--text-muted); margin-bottom: 2.5rem; max-width: 600px; margin-inline: auto; }

        /* --- 5. CARDS DE SKILL E PROJETO --- */
        .glass-card {
            background: rgba(20, 22, 31, 0.6); border: 1px solid var(--border);
            padding: 2rem; border-radius: 12px; backdrop-filter: blur(10px); transition: 0.3s;
        }
        .glass-card:hover { border-color: var(--primary); transform: translateY(-5px); }
        
        .skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem; }
        .skill-icon { font-size: 2rem; color: var(--primary); margin-bottom: 1rem; }
        
        .tags { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem; }
        .tag { font-size: 0.75rem; padding: 0.25rem 0.75rem; border-radius: 4px; background: rgba(255,255,255,0.05); color: #ccc; }

        .project-card {
            background: rgba(20, 22, 31, 0.7); border: 1px solid var(--border);
            border-radius: 16px; padding: 2.5rem; margin-bottom: 2rem;
            display: grid; grid-template-columns: 1fr 1.5fr; gap: 2rem; align-items: center;
        }
        .project-icon {
            height: 100%; min-height: 200px; border-radius: 12px;
            background: linear-gradient(135deg, rgba(0,210,255,0.05), rgba(121,40,202,0.05));
            display: flex; align-items: center; justify-content: center; font-size: 4rem; color: var(--primary);
            border: 1px solid var(--border);
        }

        /* --- 6. CARROSSEL (UI) --- */
        .carousel-container {
            position: relative; border: 1px solid var(--border); border-radius: 20px;
            background: var(--bg-card); overflow: hidden; min-height: 500px;
        }
        .slide {
            display: none; height: 500px; grid-template-columns: 1fr 1fr;
            animation: fadeIn 0.5s ease;
        }
        .slide.active { display: grid; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .slide-visual {
            position: relative; border-right: 1px solid var(--border);
            background: #000; overflow: hidden;
        }
        
        #map-view, #canvas-robot-container { width: 100%; height: 100%; z-index: 10; }

        .slide-content { padding: 3rem; display: flex; flex-direction: column; justify-content: center; }
        
        .carousel-nav {
            position: absolute; bottom: 20px; right: 20px; display: flex; gap: 10px; z-index: 20;
        }
        .nav-btn {
            width: 40px; height: 40px; border-radius: 50%; border: 1px solid var(--border);
            background: rgba(0,0,0,0.5); color: #fff; cursor: pointer;
            display: flex; align-items: center; justify-content: center; transition: 0.3s;
        }
        .nav-btn:hover { background: var(--primary); color: #000; border-color: var(--primary); }

        .loader-text {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: var(--primary); font-family: 'JetBrains Mono'; font-size: 0.8rem;
            pointer-events: none; z-index: 5;
        }

        /* Responsivo */
        @media (max-width: 900px) {
            .hero h1 { font-size: 2.5rem; }
            .project-card, .slide { grid-template-columns: 1fr; }
            .slide { height: auto; }
            .slide-visual { height: 350px; border-right: none; border-bottom: 1px solid var(--border); }
        }
    </style>
</head>
<body>

    <div id="canvas-bg"></div>

    <section class="hero">
        <div class="container">
            <span class="hero-role"><i class="fa-solid fa-code"></i> Desenvolvedor Full Stack</span>
            <h1>Lisandro Ribeiro</h1>
            <p>Especialista em transformar dados complexos em sistemas inteligentes. Foco em arquitetura escalável, PHP/Laravel e Geoprocessamento.</p>
            <div style="display: flex; gap: 1rem; justify-content: center;">
                <a href="#contato" class="btn btn-primary">Entrar em Contato</a>
                <a href="#projetos" class="btn btn-outline">Ver Portfólio</a>
            </div>
        </div>
    </section>

    <section id="skills">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Stack Tecnológico</h2>
            </div>
            <div class="skills-grid">
                <div class="glass-card">
                    <i class="fa-solid fa-server skill-icon"></i>
                    <h3>Backend & Core</h3>
                    <div class="tags"><span class="tag">PHP 8+</span><span class="tag">Laravel</span><span class="tag">Node.js</span><span class="tag">MySQL</span></div>
                </div>
                <div class="glass-card">
                    <i class="fa-solid fa-layer-group skill-icon"></i>
                    <h3>Frontend</h3>
                    <div class="tags"><span class="tag">React</span><span class="tag">Tailwind</span><span class="tag">JS (ES6+)</span></div>
                </div>
                <div class="glass-card">
                    <i class="fa-solid fa-map-location-dot skill-icon"></i>
                    <h3>Geoprocessamento</h3>
                    <div class="tags"><span class="tag">Leaflet</span><span class="tag">PostGIS</span><span class="tag">Mapbox</span></div>
                </div>
                <div class="glass-card">
                    <i class="fa-solid fa-robot skill-icon"></i>
                    <h3>Inovação & IA</h3>
                    <div class="tags"><span class="tag">API Gemini</span><span class="tag">Automação</span><span class="tag">SaaS</span></div>
                </div>
            </div>
        </div>
    </section>

    <section id="projetos">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Projetos Recentes</h2>
            </div>
            <div class="project-card">
                <div class="project-icon"><i class="fa-solid fa-leaf"></i></div>
                <div>
                    <h3 class="mono" style="color: var(--primary); font-size: 1.5rem;">Instituto Sentinela da Amazônia</h3>
                    <p style="color: var(--text-muted); margin: 1rem 0;">Atualmente faço parte do Instituto, Criando soluções inovadoras.</p>
                    <div class="tags"><span class="tag" style="color: var(--primary);">PHP</span><span class="tag">MySQL</span><span class="tag">Leaflet</span></div>
                    <a href="https://sentineladaamazonia.org" target="_blank" style="display: inline-block; margin-top: 1rem; color: #fff;">Acessar Projeto <i class="fa-solid fa-arrow-right"></i></a>
                </div>
            </div>
            <div class="project-card">
                <div class="project-icon"><i class="fa-solid fa-chart-pie"></i></div>
                <div>
                    <h3 class="mono" style="color: var(--primary); font-size: 1.5rem;">SPP - Sistema Financeiro (SESMA)</h3>
                    <p style="color: var(--text-muted); margin: 1rem 0;">Sistema interno da Secretaria de Saúde de Belém. Controle de fluxo de caixa e auditoria.</p>
                    <div class="tags"><span class="tag" style="color: var(--primary);">PHP</span><span class="tag">Dashboards</span></div>
                </div>
            </div>
            <div class="project-card">
                <div class="project-icon"><i class="fa-solid fa-graduation-cap"></i></div>
                <div>
                    <h3 class="mono" style="color: var(--primary); font-size: 1.5rem;">Lumi Educa SaaS</h3>
                    <p style="color: var(--text-muted); margin: 1rem 0;">Plataforma SaaS para gestão escolar completa:</p>
                    <div class="tags"><span class="tag" style="color: var(--primary);">React</span><span class="tag">JavaScript</span></div>
                    <a href="https://lumieduca.com.br" target="_blank" style="display: inline-block; margin-top: 1rem; color: #fff;">Conhecer Plataforma <i class="fa-solid fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </section>

    <section id="servicos">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Soluções Visuais</h2>
            </div>
            
            <div class="carousel-container">
                <div class="slide active">
                    <div class="slide-visual"><div id="map-view"></div></div>
                    <div class="slide-content">
                        <i class="fa-solid fa-map" style="font-size: 2rem; color: var(--primary); margin-bottom: 1rem;"></i>
                        <h3>Georreferenciamento</h3>
                        <p style="color: var(--text-muted); margin-top: 1rem;">Mapas interativos com Leaflet. Visualização de dados territoriais em tempo real.</p>
                    </div>
                </div>

                <div class="slide">
                    <div class="slide-visual" style="display: flex; align-items: center; justify-content: center; background: #000;">
                        <i class="fa-solid fa-network-wired" style="font-size: 5rem; color: #333;"></i>
                    </div>
                    <div class="slide-content">
                        <i class="fa-solid fa-server" style="font-size: 2rem; color: var(--secondary); margin-bottom: 1rem;"></i>
                        <h3>Arquitetura de Sistemas</h3>
                        <p style="color: var(--text-muted); margin-top: 1rem;">Backends robustos, APIs RESTful e bancos de dados escaláveis.</p>
                    </div>
                </div>

                <div class="slide">
                    <div class="slide-visual" style="display: flex; align-items: center; justify-content: center; background: #000;">
                        <i class="fa-solid fa-layer-group" style="font-size: 5rem; color: #333;"></i>
                    </div>
                    <div class="slide-content">
                        <i class="fa-solid fa-pen-ruler" style="font-size: 2rem; color: #ff0055; margin-bottom: 1rem;"></i>
                        <h3>UI/UX & Dashboards</h3>
                        <p style="color: var(--text-muted); margin-top: 1rem;">Interfaces modernas que transformam dados complexos em decisões simples.</p>
                    </div>
                </div>

                <div class="slide">
                    <div class="slide-visual" style="background: #111; position: relative;">
                        <span id="robot-status" class="loader-text">INICIANDO SISTEMAS...</span>
                        <div id="canvas-robot-container"></div>
                    </div>
                    <div class="slide-content">
                        <i class="fa-solid fa-robot" style="font-size: 2rem; color: #00d2ff; margin-bottom: 1rem;"></i>
                        <h3>Animação 3D & WebGL</h3>
                        <p style="color: var(--text-muted); margin-top: 1rem;">Integração de modelos 3D interativos (Three.js) diretamente no navegador.</p>
                    </div>
                </div>

                <div class="carousel-nav">
                    <button class="nav-btn" onclick="prevSlide()"><i class="fa-solid fa-chevron-left"></i></button>
                    <button class="nav-btn" onclick="nextSlide()"><i class="fa-solid fa-chevron-right"></i></button>
                </div>
            </div>
        </div>
    </section>

    <section id="contato">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Contato</h2>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
                <a href="https://api.whatsapp.com/send?phone=5591999440334" target="_blank" class="btn btn-primary" style="width: 100%; max-width: 300px; justify-content: center;">
                    <i class="fa-brands fa-whatsapp"></i> WhatsApp (91) 99944-0334
                </a>
                <a href="https://instagram.com/mattheuss.ls" target="_blank" class="btn btn-outline" style="width: 100%; max-width: 300px; justify-content: center;">
                    <i class="fa-brands fa-instagram"></i> @mattheuss.ls
                </a>
            </div>
        </div>
    </section>

    <footer style="text-align: center; padding: 2rem; color: #555; font-size: 0.8rem; border-top: 1px solid var(--border);">
        &copy; 2025 Lisandro Ribeiro. Todos os direitos reservados.
    </footer>

    <script>
        // --- MAPA ---
        let map;
        try {
            map = L.map('map-view', { attributionControl: false }).setView([-1.4557, -48.4902], 13);
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', { maxZoom: 19 }).addTo(map);
            L.marker([-1.4557, -48.4902]).addTo(map).bindPopup('<div style="color:black"><b>Belém, PA</b></div>');
        } catch(e) { console.log("Erro mapa:", e); }

        // --- CARROSSEL ---
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        // Funções globais para os botões HTML funcionarem
        window.showSlide = function(index) {
            slides.forEach(s => s.classList.remove('active'));
            slides[index].classList.add('active');

            // Fix Mapa
            if(index === 0 && map) { setTimeout(() => { map.invalidateSize(); }, 50); }
            
            // Trigger evento customizado para avisar o 3D que o slide mudou
            const event = new CustomEvent('slideChanged', { detail: { index: index } });
            window.dispatchEvent(event);
        };

        window.nextSlide = function() {
            currentSlide = (currentSlide + 1) % totalSlides;
            window.showSlide(currentSlide);
        };

        window.prevSlide = function() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            window.showSlide(currentSlide);
        };
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

        // --- 1. SPHERE BACKGROUND (Branca/Azulada, cresce com scroll) ---
        const initBg = () => {
            const container = document.getElementById('canvas-bg');
            if(!container) return;

            const scene = new THREE.Scene();
            // Sem cor de fundo na cena, pois o CSS cuida do gradiente
            
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);

            // GEOMETRIA: Esfera Wireframe Branca
            // Aumentei segmentos para ficar bem redonda
            const geometry = new THREE.IcosahedronGeometry(2, 4); 
            const material = new THREE.MeshBasicMaterial({ 
                color: 0xffffff, 
                wireframe: true, 
                transparent: true, 
                opacity: 0.06 // Transparência sutil
            });
            const sphere = new THREE.Mesh(geometry, material);
            scene.add(sphere);

            // Efeito de brilho azul interno (PointLight)
            const light = new THREE.PointLight(0x00d2ff, 10, 100);
            light.position.set(0, 0, 0);
            scene.add(light);

            camera.position.z = 8;

            // ANIMAÇÃO SCROLL
            const animate = () => {
                requestAnimationFrame(animate);
                
                // Rotação eterna
                sphere.rotation.y += 0.001;
                sphere.rotation.x += 0.0005;

                // Lógica de Scroll
                const scrollY = window.scrollY;
                const docHeight = document.body.scrollHeight - window.innerHeight;
                const percent = Math.min(scrollY / docHeight, 1);

                // Aumenta escala de 1x até 4x
                const scale = 1 + (percent * 3);
                sphere.scale.setScalar(scale);
                
                // Move um pouco para baixo
                sphere.position.y = -(percent * 1.5);

                renderer.render(scene, camera);
            };
            animate();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        // --- 2. ROBOT 3D (No Carrossel) ---
        let robotRenderer, robotCamera, robotScene, robotMixer;
        let robotLoaded = false;

        const initRobot = () => {
            const container = document.getElementById('canvas-robot-container');
            if(!container) return;
            const w = container.clientWidth;
            const h = container.clientHeight;

            robotScene = new THREE.Scene();
            // Iluminação
            const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444, 3);
            hemiLight.position.set(0, 20, 0);
            robotScene.add(hemiLight);
            const dirLight = new THREE.DirectionalLight(0xffffff, 3);
            dirLight.position.set(0, 20, 10);
            robotScene.add(dirLight);

            robotCamera = new THREE.PerspectiveCamera(45, w/h, 0.25, 100);
            robotCamera.position.set(-5, 3, 10);
            robotCamera.lookAt(0, 2, 0);

            robotRenderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            robotRenderer.setSize(w, h);
            container.appendChild(robotRenderer.domElement);

            // Carregamento do Modelo
            const loader = new GLTFLoader();
            const statusText = document.getElementById('robot-status');

            // URL oficial do exemplo three.js (Geralmente permite CORS)
            const modelUrl = 'https://threejs.org/examples/models/gltf/RobotExpressive/RobotExpressive.glb';

            loader.load(modelUrl, 
                (gltf) => {
                    const model = gltf.scene;
                    robotScene.add(model);
                    
                    robotMixer = new THREE.AnimationMixer(model);
                    // Procura animação 'Wave' ou 'Idle'
                    const clips = gltf.animations;
                    // Tenta achar 'Wave', senão pega a primeira
                    const clip = THREE.AnimationClip.findByName(clips, 'Wave') || clips[0];
                    if(clip) {
                        robotMixer.clipAction(clip).play();
                    }

                    if(statusText) statusText.style.display = 'none';
                    robotLoaded = true;
                },
                undefined, // Progress
                (error) => {
                    console.error("Erro ao carregar robo GLB:", error);
                    if(statusText) statusText.innerText = "MODO OFFLINE ATIVADO";
                    createBackupRobot(); // Carrega o robô geométrico se falhar
                }
            );

            const clock = new THREE.Clock();
            const animateRobot = () => {
                requestAnimationFrame(animateRobot);
                if (robotMixer) robotMixer.update(clock.getDelta());
                robotRenderer.render(robotScene, robotCamera);
            };
            animateRobot();
        };

        // Robô de Backup (Geométrico) caso a internet falhe ou CORS bloqueie
        function createBackupRobot() {
            const group = new THREE.Group();
            
            // Cabeça
            const head = new THREE.Mesh(
                new THREE.BoxGeometry(1.5, 1.2, 1.2),
                new THREE.MeshStandardMaterial({ color: 0x333333 })
            );
            // Olho
            const eye = new THREE.Mesh(
                new THREE.BoxGeometry(1.6, 0.4, 0.5),
                new THREE.MeshStandardMaterial({ color: 0x00d2ff, emissive: 0x00d2ff })
            );
            eye.position.set(0, 0.2, 0.3);
            
            group.add(head);
            group.add(eye);
            robotScene.add(group);

            // Animação simples de flutuar
            const animateBackup = () => {
                requestAnimationFrame(animateBackup);
                group.rotation.y += 0.01;
                group.position.y = Math.sin(Date.now() * 0.002) * 0.5;
            };
            animateBackup();
        }

        const resizeRobot = () => {
            const container = document.getElementById('canvas-robot-container');
            if(container && robotCamera && robotRenderer) {
                const w = container.clientWidth;
                const h = container.clientHeight;
                robotCamera.aspect = w / h;
                robotCamera.updateProjectionMatrix();
                robotRenderer.setSize(w, h);
            }
        };

        // --- INICIALIZAÇÃO ---
        initBg(); // Inicia fundo imediatamente

        // Ouve a mudança de slide vinda do Script 1
        window.addEventListener('slideChanged', (e) => {
            if(e.detail.index === 3) {
                setTimeout(() => {
                    if(!robotRenderer) initRobot();
                    else resizeRobot();
                }, 50);
            }
        });

        // Resize Global
        window.addEventListener('resize', () => {
            // Se o robô já existe, redimensiona
            if(robotRenderer) resizeRobot();
        });

    </script>
</body>
</html>